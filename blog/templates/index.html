{% extends 'base.html' %}

{% block title %}Welcome to my blog{% endblock %}
{% load markdownify %}
{% load humanize %}
{% block content %}
{% load static %}




<!-- Page Content -->
    <div class="container">


                <!-- Sidebar Widgets Column -->
        <div class="col-sm-4 float-right">


<!-- Side Widget -->
            <div style="float:right;">
          <div class="card my-4">
            <h5 class="card-header">About Me</h5>
            <div class="card-body">
                 <img style='float:right; border-radius:1em;' width='100' heigh='100' src="https://s3.us-east-2.amazonaws.com/hashedvalue-assets/static/images/me.jpg">
            <p>Craig Riley <em>IT Leader. Old Unix Guy. Python Dude. Etc</em><br><br>
                This site is an experiment in Django and Heroku. If you happened to stumble upon this site and find anything here useful you are more than welcome to it.</p>



            </div>
          </div>

        </div>

          <!-- Categories Widget -->
          <div class="card my-4">
            <h5 class="card-header">Categories</h5>


            <div class="card-body">
              <div class="row">
                <div class="col-lg-6">
                  <ul class="list-unstyled mb-0">
                        {% for category in categories %}
                    <li>
                        <a href="{% url 'blog:view_category' pk=category.id  %}">{{ category }}</a>
                    </li>
                       {% endfor %}
                  </ul>
                </div>
              </div>
            </div>
          </div>


</div>


       <p>&nbsp;</p>
{% if posts %}

        {% for post in posts %}
        <!-- Blog Entries Column -->
 <div class="col-sm-8">

          <!-- Blog Post -->
          <div class="card mb-4">
            <img class="card-img-top" src="https://s3.us-east-2.amazonaws.com/hashedvalue-assets/media/{{ post.image }}" >
            <div class="card-body">
              <h2 class="card-title">{{ post.title }}</h2>
              <p class="card-text">{{ post.body  | markdownify | truncatewords:90}}</p>
              <a href="{% url 'blog:view_post' pk=post.id %}" class="btn btn-primary">Read More &rarr;</a>
            </div>
            <div class="card-footer text-muted">
             Posted {{ post.created | naturaltime }} by {{ post.created_by }}
            </div>

          </div>
        </div>



   {% endfor %}

    {% else %}
      <p>There are no posts.</p>
   {% endif %}

  <!-- Pagination -->

<div class="pagination">
    <span class="step-links  ">
         <span class="current">
            Page {{ posts.number }} of {{ posts.paginator.num_pages }}.<br>
        </span>

        {% if posts.has_previous %}
            <a class="btn btn-primary"  href="?page=1">&laquo; first</a>
            <a class="btn btn-primary" href="?page={{ contacts.previous_page_number }}">< previous</a>
        {% endif %}


        {% if posts.has_next %}
            <a class="btn btn-primary" href="?page={{ posts.next_page_number }}">next ></a>
            <a class="btn btn-primary" href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
        <br>
        {% endif %}
    </span>
</div>

</diddv>









      </div>
    </div>




{% endblock %}
{% extends 'base.html' %}
{% block title %}Welcome to my blog{% endblock %}

{% block content %}

{% load markdownify %}
{% load humanize %}

 <main role="main" class="container">

      <div class="row">

        <div class="col-sm-8 blog-main">

        {% if posts %}

        {% for post in posts %}

          <div class="blog-post">

                {% if post.image %}


                   <img class='blog-entry-image'  src="https://s3.us-east-2.amazonaws.com/hashedvalue-assets/media/{{ post.image }}" width="250" height="250">
                {% endif %}
                <a href="{% url 'blog:view_post' pk=post.id %}"> <h2 class="blog-post-title">{{ post.title }}</h2></a>
                <p class="blog-post-meta">{{ post.created | naturaltime }} by <a href="#">{{ post.created_by }}</a>

              </p>

                <p>{{ post.body  | markdownify | truncatewords:90}}</p>

          </div><!-- /.blog-post -->

          <hr>

        {% endfor %}

    {% else %}
        <p>There are no posts.</p>
    {% endif %}


        </div><!-- /.blog-main -->

        <aside class="col-sm-3 ml-sm-auto blog-sidebar">
          <div class="sidebar-module sidebar-module-inset">
               {% include 'aside.html' %}

          </div>
        </aside><!-- /.blog-sidebar -->



      </div><!-- /.row -->
     <div class="pagination">
                <span class="step-links">
                    {% if posts.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ posts.previous_page_number }}">previous</a>
                    {% endif %}

                <span class="current">
                    Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
                </span>

                {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}">next</a>
                    <a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
                {% endif %}
            </span>
        </div>
     <p>&nbsp;</p>
     <p>&nbsp;</p>
    </main><!-- /.container -->








{% endblock %}
